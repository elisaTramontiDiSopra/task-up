<div
  [ngClass]="{'row': direction === 'horiz', 'nothing': direction === 'vert'}"
  [@slideInDown]="steps.lenght">
  <div class="task-col" *ngFor="let task of steps; index as i;">
    <div class="main-task d-flex justify-content-center align-items-center rounded-circle"
      [ngClass]="{'mon': day === 'mon', 'tue': day === 'tue'}"
      [ngClass]="{'task-col': task.steps}"
      [class.undone]="i > 0 && steps[i-1].done === false"
      [class.complexTask]="task.steps"
      [class.completed]="task.completed"
      (click)="selectThisStep(task, i)">
      {{task.name}}
    </div>
    <button class="subtask rounded-circle" *ngIf="task.steps"
      [disabled]="task.done === true"
      (click)="done(task, i)"
      ><i class="fas fa-stroopwafel"></i>S</button>
    <button class="done rounded-circle" *ngIf="task.skipped === false && !task.steps"
      [disabled]="task.done === true"
      (click)="done(task, i)"
      ><i class="fas fa-stroopwafel"></i>D</button>
    <button class="skip rounded-circle" *ngIf="task.done === false && !task.steps"
      [disabled]="task.skipped === true"
      (click)="skipped()"
      ><i class="fas fa-times"></i>S</button>
    <div *ngIf="task.stepsVisible === true">
      <tree-structure *ngIf="task.steps" [day]="day" [steps]="task.steps" [parentTask]="task" direction="vert"></tree-structure>
    </div>
  </div>
</div>
